<%- include('../partials/header') %>

<div class="container mt-5">
  <% if(message.length > 0) { %>
    <div class="alert alert-success">
    <%= message %>
    </div>
  <% } %>

  <div class="row">
    <div class="col-12 d-flex flex-row">
      <h2> Your Projects <img src="images/mortarboard.gif" style="width:10%;"> </h2>
    </div>
  </div>
  <div class="row my-3 gap-3 gap-md-0">
    <% project.forEach((project) => { %>
        <% if(project.user == req.user.id) { %>
        <div class="col-12 col-md-6 col-lg-3 mb-2 align-items-center">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">ðŸ¥µ <%= project.title %></h5>
              <p class="card-text text-truncate"><img src="images/turn-right.gif" style="width:10%;"><%= project.desc %></p>
              <%
                const monthNames = [
                      'January', 'February', 'March',
                      'April', 'May', 'June', 'July',
                      'August', 'September', 'October',
                      'November', 'December'
                  ];
                const d = project.creationDate.getDate();
                const m = monthNames[project.creationDate.getMonth()];
                const y = project.creationDate.getFullYear();
              %>
              <p class="card-text"><img src="images/ticket.gif" style="width:10%;"><small> <%= d %> <%= m %> <%= y %> </small></p>
              <a href="student/projects/<%=project.id%>" class="card-link" style="color:black;"><img src="images/note.gif" style="width:10%;">Review</a>
            </div>
          </div>
        </div>
        <% } %>
    <% }) %>
    </div>
    <hr>
    <div class="row">
      <div class="col-12 d-flex flex-row">
        <h2> Others Projects <img src="images/thumbs-up.gif" style="width:8%;"> </h2>
      </div>
    </div>
    <div class="row my-3 gap-3 gap-md-0">
      <% project.forEach((project) => { %>
        <% if(project.user != req.user.id) { %>
        <div class="col-12 col-md-6 col-lg-3 mb-2 align-items-center">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">ðŸ¥µ <%= project.title %></h5>
              <p class="card-text text-truncate"><img src="images/turn-right.gif" style="width:10%;"><%= project.desc %></p>
              <%
                const monthNames = [
                      'January', 'February', 'March',
                      'April', 'May', 'June', 'July',
                      'August', 'September', 'October',
                      'November', 'December'
                  ];
                const d = project.creationDate.getDate();
                const m = monthNames[project.creationDate.getMonth()];
                const y = project.creationDate.getFullYear();
              %>
              <p class="card-text"><img src="images/ticket.gif" style="width:10%;"><small> <%= d %> <%= m %> <%= y %> </small></p>
              <a href="student/projects/<%=project.id%>" class="card-link" style="color:black;"><img src="images/note.gif" style="width:10%;">Review</a>
            </div>
          </div>
        </div>
        <% } %>
    <% }) %>

    <a href="student/submitProject"><button type="button" class="btn btn-warning mt-5">Submit Homework</button></a>
  </div>
</div>
<%- include('../partials/footer') %>